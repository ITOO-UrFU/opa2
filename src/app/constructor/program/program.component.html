<div *ngIf="data.complete_load() && steps.modules" class="header">

    <h1>
        {{ data?.program?.title }}
    </h1>
    <div id="targets">
        <ul class="target_choices">
            <ng-template ngFor let-target [ngForOf]="data?.program?.targets">
                <li app-target [class.selected]="data?.trajectory?.target?.id == target?.id" [target]="target"></li>
            </ng-template>
        </ul>
    </div>
    
    <div *ngIf = "data?.competences" class="widget__competences_diagram">
            <ng-template ngFor let-competence [ngForOf]="data?.program?.competences">
                <div app-competence [competence] = competence></div> 
            </ng-template> 
    </div>
    <div *ngIf = "data?.choice_groups">
        <ng-template ngFor let-choice_group [ngForOf]="trajectory?.target?.choice_groups">
            <div app-choice-group class="ChoiceGroup" [choice_group_id] = "choice_group"></div>
        </ng-template>
    </div>
</div>

<div *ngIf="data.complete_load() && steps.disciplines"> 
    <div app-disciplines></div>
</div>

<div style='position:fixed; top: -1px; right: 10px; background: #475fa1; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; padding: 5px'>
        <button (click)="step('modules')">Модули</button>
        <button (click)="step('disciplines')">Дисциплины</button>    
        ||
    <button (click)="data.saveTrajectory()">Сохранить</button>
        <button (click)="data.getTrajectory()">Получить</button>
</div>
